2019-03-31 11:08:02,163 ERROR org.tio.core.ssl.facade.Worker[225]: 127.0.0.1:57317, SslShakehanded:false, 解密Error:javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?, byte:[71, 69, 84, 32, 47, 32, 72, 84, 84, 80, 47, 49, 46, 49, 13, 10, 72, 111, 115, 116, 58, 32, 108, 111, 99, 97, 108, 104, 111, 115, 116, 58, 56, 56, 56, 48, 13, 10, 67, 111, 110, 110, 101, 99, 116, 105, 111, 110, 58, 32, 85, 112, 103, 114, 97, 100, 101, 13, 10, 80, 114, 97, 103, 109, 97, 58, 32, 110, 111, 45, 99, 97, 99, 104, 101, 13, 10, 67, 97, 99, 104, 101, 45, 67, 111, 110, 116, 114, 111, 108, 58, 32, 110, 111, 45, 99, 97, 99, 104, 101, 13, 10, 85, 115, 101, 114, 45, 65, 103, 101, 110, 116, 58, 32, 77, 111, 122, 105, 108, 108, 97, 47, 53, 46, 48, 32, 40, 105, 80, 104, 111, 110, 101, 59, 32, 67, 80, 85, 32, 105, 80, 104, 111, 110, 101, 32, 79, 83, 32, 49, 49, 95, 48, 32, 108, 105, 107, 101, 32, 77, 97, 99, 32, 79, 83, 32, 88, 41, 32, 65, 112, 112, 108, 101, 87, 101, 98, 75, 105, 116, 47, 54, 48, 52, 46, 49, 46, 51, 56, 32, 40, 75, 72, 84, 77, 76, 44, 32, 108, 105, 107, 101, 32, 71, 101, 99, 107, 111, 41, 32, 86, 101, 114, 115, 105, 111, 110, 47, 49, 49, 46, 48, 32, 77, 111, 98, 105, 108, 101, 47, 49, 53, 65, 51, 55, 50, 32, 83, 97, 102, 97, 114, 105, 47, 54, 48, 52, 46, 49, 13, 10, 85, 112, 103, 114, 97, 100, 101, 58, 32, 119, 101, 98, 115, 111, 99, 107, 101, 116, 13, 10, 79, 114, 105, 103, 105, 110, 58, 32, 104, 116, 116, 112, 58, 47, 47, 108, 111, 99, 97, 108, 104, 111, 115, 116, 58, 51, 48, 48, 48, 13, 10, 83, 101, 99, 45, 87, 101, 98, 83, 111, 99, 107, 101, 116, 45, 86, 101, 114, 115, 105, 111, 110, 58, 32, 49, 51, 13, 10, 65, 99, 99, 101, 112, 116, 45, 69, 110, 99, 111, 100, 105, 110, 103, 58, 32, 103, 122, 105, 112, 44, 32, 100, 101, 102, 108, 97, 116, 101, 44, 32, 98, 114, 13, 10, 65, 99, 99, 101, 112, 116, 45, 76, 97, 110, 103, 117, 97, 103, 101, 58, 32, 122, 104, 45, 67, 78, 44, 122, 104, 59, 113, 61, 48, 46, 57, 13, 10, 67, 111, 111, 107, 105, 101, 58, 32, 72, 109, 95, 108, 118, 116, 95, 101, 99, 55, 50, 56, 57, 57, 55, 49, 49, 97, 55, 54, 100, 51, 98, 54, 49, 50, 55, 55, 48, 98, 98, 102, 51, 54, 52, 97, 100, 102, 49, 61, 49, 53, 52, 54, 51, 52, 50, 50, 51, 49, 13, 10, 83, 101, 99, 45, 87, 101, 98, 83, 111, 99, 107, 101, 116, 45, 75, 101, 121, 58, 32, 82, 73, 115, 75, 75, 71, 88, 43, 87, 51, 106, 99, 101, 52, 80, 115, 75, 53, 99, 83, 108, 103, 61, 61, 13, 10, 83, 101, 99, 45, 87, 101, 98, 83, 111, 99, 107, 101, 116, 45, 69, 120, 116, 101, 110, 115, 105, 111, 110, 115, 58, 32, 112, 101, 114, 109, 101, 115, 115, 97, 103, 101, 45, 100, 101, 102, 108, 97, 116, 101, 59, 32, 99, 108, 105, 101, 110, 116, 95, 109, 97, 120, 95, 119, 105, 110, 100, 111, 119, 95, 98, 105, 116, 115, 13, 10, 13, 10], string:GET / HTTP/1.1
Host: localhost:8880
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1
Upgrade: websocket
Origin: http://localhost:3000
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cookie: Hm_lvt_ec72899711a76d3b612770bbf364adf1=1546342231
Sec-WebSocket-Key: RIsKKGX+W3jce4PsK5cSlg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits

, buffer:java.nio.HeapByteBuffer[pos=0 lim=575 cap=16921]
javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?
	at sun.security.ssl.EngineInputRecord.bytesInCompletePacket(EngineInputRecord.java:156)
	at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:868)
	at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)
	at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)
	at org.tio.core.ssl.facade.Worker.doUnwrap(Worker.java:220)
	at org.tio.core.ssl.facade.Worker.unwrap(Worker.java:106)
	at org.tio.core.ssl.facade.SSLFacade.decrypt(SSLFacade.java:118)
	at org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:92)
	at org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:25)
	at sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126)
	at sun.nio.ch.Invoker$2.run(Invoker.java:218)
	at sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-03-31 11:08:02,167 ERROR o.t.core.ReadCompletionHandler[94]: 127.0.0.1:57317, SslShakehanded:false, javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?java.nio.HeapByteBuffer[pos=575 lim=575 cap=575]
javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?
	at sun.security.ssl.EngineInputRecord.bytesInCompletePacket(EngineInputRecord.java:156)
	at sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:868)
	at sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781)
	at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624)
	at org.tio.core.ssl.facade.Worker.doUnwrap(Worker.java:220)
	at org.tio.core.ssl.facade.Worker.unwrap(Worker.java:106)
	at org.tio.core.ssl.facade.SSLFacade.decrypt(SSLFacade.java:118)
	at org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:92)
	at org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:25)
	at sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126)
	at sun.nio.ch.Invoker$2.run(Invoker.java:218)
	at sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-03-31 11:24:17,203 ERROR org.tio.core.Aio[481]: can send data, $UNKNOWN:1, isClosed:true, isRemoved:true, stack:
	java.lang.Thread.getStackTrace(Thread.java:1559)
	org.tio.utils.thread.ThreadUtils.stackTrace(ThreadUtils.java:10)
	org.tio.core.Aio.send(Aio.java:481)
	org.tio.core.Aio.send(Aio.java:458)
	org.jim.common.ImAio.send(ImAio.java:222)
	org.jim.server.ws.WsProtocolHandler.handler(WsProtocolHandler.java:100)
	org.jim.server.handler.ImServerAioHandler.handler(ImServerAioHandler.java:42)
	org.tio.core.task.HandlerRunnable.handler(HandlerRunnable.java:67)
	org.tio.core.task.DecodeRunnable.handler(DecodeRunnable.java:46)
	org.tio.core.task.DecodeRunnable.run(DecodeRunnable.java:169)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:86)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:25)
	sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126)
	sun.nio.ch.Invoker$2.run(Invoker.java:218)
	sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	java.lang.Thread.run(Thread.java:748) 
2019-03-31 11:51:51,098 ERROR o.s.boot.SpringApplication[837]: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customWsHandshakeProcessor' defined in xyz.berby.im.server.ImServerAutoConfigure: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [xyz.berby.im.server.processor.handshake.CustomWsHandshakeProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:550)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:548)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at xyz.berby.im.server.ImServerAutoConfigure.main(ImServerAutoConfigure.java:91)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [xyz.berby.im.server.processor.handshake.CustomWsHandshakeProcessor] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:758)
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:690)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:354)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:339)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:298)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1013)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:547)
	... 12 common frames omitted
Caused by: java.lang.NoClassDefFoundError: Lxyz/berby/im/property/DefaultSettingProperty;
	at java.lang.Class.getDeclaredFields0(Native Method)
	at java.lang.Class.privateGetDeclaredFields(Class.java:2583)
	at java.lang.Class.getDeclaredFields(Class.java:1916)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:753)
	... 18 common frames omitted
Caused by: java.lang.ClassNotFoundException: xyz.berby.im.property.DefaultSettingProperty
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 22 common frames omitted
2019-03-31 11:53:05,152 ERROR o.s.b.d.LoggingFailureAnalysisReporter[42]: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field property in xyz.berby.im.server.processor.handshake.CustomWsHandshakeProcessor required a bean of type 'xyz.berby.im.property.DefaultSettingProperty' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'xyz.berby.im.property.DefaultSettingProperty' in your configuration.

2019-03-31 12:24:49,665 ERROR org.tio.core.Aio[481]: can send data, $UNKNOWN:1, isClosed:true, isRemoved:true, stack:
	java.lang.Thread.getStackTrace(Thread.java:1559)
	org.tio.utils.thread.ThreadUtils.stackTrace(ThreadUtils.java:10)
	org.tio.core.Aio.send(Aio.java:481)
	org.tio.core.Aio.send(Aio.java:458)
	org.jim.common.ImAio.send(ImAio.java:222)
	org.jim.server.ws.WsProtocolHandler.handler(WsProtocolHandler.java:100)
	org.jim.server.handler.ImServerAioHandler.handler(ImServerAioHandler.java:42)
	org.tio.core.task.HandlerRunnable.handler(HandlerRunnable.java:67)
	org.tio.core.task.DecodeRunnable.handler(DecodeRunnable.java:46)
	org.tio.core.task.DecodeRunnable.run(DecodeRunnable.java:169)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:86)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:25)
	sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126)
	sun.nio.ch.Invoker$2.run(Invoker.java:218)
	sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	java.lang.Thread.run(Thread.java:748) 
2019-03-31 15:32:04,759 ERROR org.tio.core.Aio[481]: can send data, $UNKNOWN:1, isClosed:true, isRemoved:true, stack:
	java.lang.Thread.getStackTrace(Thread.java:1559)
	org.tio.utils.thread.ThreadUtils.stackTrace(ThreadUtils.java:10)
	org.tio.core.Aio.send(Aio.java:481)
	org.tio.core.Aio.send(Aio.java:458)
	org.jim.common.ImAio.send(ImAio.java:222)
	org.jim.server.ws.WsProtocolHandler.handler(WsProtocolHandler.java:100)
	org.jim.server.handler.ImServerAioHandler.handler(ImServerAioHandler.java:42)
	org.tio.core.task.HandlerRunnable.handler(HandlerRunnable.java:67)
	org.tio.core.task.DecodeRunnable.handler(DecodeRunnable.java:46)
	org.tio.core.task.DecodeRunnable.run(DecodeRunnable.java:169)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:86)
	org.tio.core.ReadCompletionHandler.completed(ReadCompletionHandler.java:25)
	sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126)
	sun.nio.ch.Invoker$2.run(Invoker.java:218)
	sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112)
	java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	java.lang.Thread.run(Thread.java:748) 
2019-03-31 17:16:49,506 ERROR org.tio.core.task.SendRunnable[74]: 127.0.0.1:61383, 任务已经取消，org.jim.common.ws.WsResponsePacket@1baed29e添加到发送队列失败
2019-03-31 21:22:20,435 ERROR org.jim.common.utils.JsonKit[69]: json解析失败:
[91, 111, 98, 106, 101, 99, 116, 32, 79, 98, 106, 101, 99, 116, 93]
