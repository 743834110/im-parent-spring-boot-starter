(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{OeAs:function(e,a,t){"use strict";t.r(a);t("RP/e");var r,l,n,m,c=t("izPl"),o=(t("7D5O"),t("VVh6")),s=(t("oH73"),t("5n/v")),d=(t("pko2"),t("yz32")),i=(t("/J8Y"),t("zfnJ")),u=(t("dZVJ"),t("Nf2q")),p=(t("JXWm"),t("cpGE")),h=(t("y5MA"),t("Gywv")),E=t("smUt"),g=t.n(E),f=t("Pjwa"),y=t.n(f),v=t("2cji"),b=t.n(v),I=t("sp3j"),k=t.n(I),w=t("vZkh"),O=t.n(w),F=t("+KCP"),S=t.n(F),C=(t("5L90"),t("aCNS")),x=(t("CyPW"),t("q5eX")),N=t("/0b7"),R=t.n(N),D=t("LneV"),A=(t("a/LZ"),t("G7KD")),L=t("CkN6"),_=t("zHco"),j=t("8Ehr"),V=t.n(j),J=x["a"].Item,P=(C["a"].Option,function(e){return Object.keys(e).map(function(a){return e[a]}).join(",")}),T=(r=Object(D["connect"])(function(e){var a=e._userOrg,t=e.loading;return{_userOrg:a,loading:t.models._userOrg}}),l=x["a"].create(),r(n=l((m=function(e){function a(){var e,t;y()(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=k()(this,(e=O()(a)).call.apply(e,[this].concat(l))),t.state={expandForm:!1,selectedRows:[],formValues:{},columns:[{title:"\u7528\u6237\u540d\u79f0",dataIndex:"userName"},{title:"\u7ec4\u7ec7\u7c7b\u578b",dataIndex:"orgType"},{title:"\u5e74\u7ea7",dataIndex:"grade"},{title:"\u7ec4\u7ec7\u540d\u79f0",dataIndex:"orgName"},{title:"\u7ec4\u7ec7\u7b80\u79f0",dataIndex:"shortName"},{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"roleName"},{title:"\u7528\u6237\u8d26\u53f7",dataIndex:"userAccount"},{title:"\u64cd\u4f5c",render:function(e){return R.a.createElement(N["Fragment"],null,R.a.createElement("a",{onClick:function(){return t.previewItem(e.userOrgId)}},"\u914d\u7f6e"))}}]},t.handleStandardTableChange=function(e,a,r){var l=t.props.dispatch,n=t.state.formValues,m=Object.keys(a).reduce(function(e,t){var r=g()({},e);return r[t]=P(a[t]),r},{}),c={pager:{offset:e.current-1,limit:e.pageSize,param:g()({},n,m)}};if(r.field){var o={};o[r.field]=r.order,c.pager.sorter=[o]}l({type:"_userOrg/fetch",payload:c})},t.previewItem=function(e){A["a"].push("/userOrg/userOrgForm/".concat(e))},t.newItem=function(){A["a"].push("/userOrg/userOrgForm")},t.handleFormReset=function(){var e=t.props,a=e.form,r=e.dispatch;a.resetFields(),t.setState({formValues:{}}),r({type:"_userOrg/fetch",payload:{}})},t.toggleForm=function(){var e=t.state.expandForm;t.setState({expandForm:!e})},t.handleMenuClick=function(e){var a=t.props.dispatch,r=t.state.selectedRows;if(0!==r.length)switch(e.key){case"remove":a({type:"_userOrg/remove",payload:{userOrgIds:r.map(function(e){return e.userOrgId}).join(",")},callback:function(){a({type:"_userOrg/fetch",payload:{}}),t.setState({selectedRows:[]})}});break;default:break}},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props,r=a.dispatch,l=a.form;l.validateFields(function(e,a){if(!e){var l=g()({},a,{updatedAt:a.updatedAt&&a.updatedAt.valueOf()});t.setState({formValues:l}),console.log(l),r({type:"_userOrg/fetch",payload:{pager:{param:l}}})}})},t}return S()(a,e),b()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"_userOrg/fetch"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return R.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},R.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7528\u6237ID"},e("userId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7ec4\u7ec7ID"},e("orgId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement("span",{className:V.a.submitButtons},R.a.createElement(u["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),R.a.createElement(u["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),R.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",R.a.createElement(i["a"],{type:"down"}))))))}},{key:"renderAdvancedForm",value:function(){var e=this.props.form.getFieldDecorator;return R.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},R.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7528\u6237ID"},e("userId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7ec4\u7ec7ID"},e("orgId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7528\u6237\u540d\u79f0"},e("userName")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),R.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u90e8\u95e8\u89d2\u8272ID"},e("roleId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7236\u7ec4\u7ec7ID"},e("parentOrgId")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7ec4\u7ec7\u7c7b\u578b"},e("orgType")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),R.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u5e74\u7ea7"},e("grade")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7ec4\u7ec7\u540d\u79f0"},e("orgName")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7528\u6237\u56fe\u50cfurl"},e("userImageUrl")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),R.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7ec4\u7ec7\u7b80\u79f0"},e("shortName")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u89d2\u8272\u540d\u79f0"},e("roleName")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),R.a.createElement(p["a"],{md:8,sm:24},R.a.createElement(J,{label:"\u7528\u6237\u8d26\u53f7"},e("userAccount")(R.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),R.a.createElement("div",{style:{overflow:"hidden"}},R.a.createElement("div",{style:{marginBottom:24}},R.a.createElement(u["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),R.a.createElement(u["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),R.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",R.a.createElement(i["a"],{type:"up"})))))}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}},{key:"render",value:function(){var e=this,a=this.props,t=a._userOrg.data,r=void 0===t?{}:t,l=a.loading,n=this.state,m=n.selectedRows,d=n.columns,p=R.a.createElement(s["a"],{onClick:this.handleMenuClick,selectedKeys:[]},R.a.createElement(s["a"].Item,{key:"remove"},"\u5220\u9664"));return R.a.createElement(_["a"],{title:"\u67e5\u8be2\u8868\u683c"},R.a.createElement(c["a"],{bordered:!1},R.a.createElement("div",{className:V.a.tableList},R.a.createElement("div",{className:V.a.tableListForm},this.renderForm()),R.a.createElement("div",{className:V.a.tableListOperator},R.a.createElement(u["a"],{icon:"plus",type:"primary",onClick:function(){return e.newItem()}},"\u65b0\u5efa"),m.length>0&&R.a.createElement("span",null,R.a.createElement(u["a"],null,"\u6279\u91cf\u64cd\u4f5c"),R.a.createElement(o["a"],{overlay:p},R.a.createElement(u["a"],null,"\u66f4\u591a\u64cd\u4f5c ",R.a.createElement(i["a"],{type:"down"}))))),R.a.createElement(L["a"],{selectedRows:m,loading:l,data:r,columns:d,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),a}(N["PureComponent"]),n=m))||n)||n);a["default"]=T}}]);