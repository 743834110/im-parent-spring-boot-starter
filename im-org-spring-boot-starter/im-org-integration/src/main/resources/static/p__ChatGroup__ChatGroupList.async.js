(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{WJ1c:function(e,a,t){"use strict";t.r(a);t("RP/e");var r,n,l,c,o=t("izPl"),m=(t("7D5O"),t("VVh6")),s=(t("oH73"),t("5n/v")),i=(t("pko2"),t("yz32")),d=(t("/J8Y"),t("zfnJ")),p=(t("dZVJ"),t("Nf2q")),u=(t("JXWm"),t("cpGE")),h=(t("y5MA"),t("Gywv")),f=t("smUt"),E=t.n(f),y=(t("Mq5h"),t("SHxp")),v=t("Pjwa"),g=t.n(v),b=t("2cji"),k=t.n(b),w=t("sp3j"),F=t.n(w),S=t("vZkh"),I=t.n(S),C=t("+KCP"),G=t.n(C),R=(t("5L90"),t("aCNS")),x=(t("CyPW"),t("q5eX")),D=t("/0b7"),L=t.n(D),_=t("LneV"),j=(t("a/LZ"),t("G7KD")),V=t("CkN6"),A=t("zHco"),J=t("8Ehr"),N=t.n(J),O=x["a"].Item,z=(R["a"].Option,function(e){return Object.keys(e).map(function(a){return e[a]}).join(",")}),P=(r=Object(_["connect"])(function(e){var a=e._chatGroup,t=e.loading;return{_chatGroup:a,loading:t.models._chatGroup}}),n=x["a"].create(),r(l=n((c=function(e){function a(){var e,t;g()(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=F()(this,(e=I()(a)).call.apply(e,[this].concat(n))),t.state={expandForm:!1,selectedRows:[],formValues:{},columns:[{title:"\u7fa4\u5934\u50cf",dataIndex:"avatar",render:function(e){return L.a.createElement(y["a"],{size:"large",shape:"square",src:e})}},{title:"\u7fa4\u7ec4\u540d\u79f0",dataIndex:"name"},{title:"\u64cd\u4f5c",render:function(e){return L.a.createElement(D["Fragment"],null,L.a.createElement("a",{onClick:function(){return t.previewItem(e.groupId)}},"\u914d\u7f6e"))}}]},t.handleStandardTableChange=function(e,a,r){var n=t.props.dispatch,l=t.state.formValues,c=Object.keys(a).reduce(function(e,t){var r=E()({},e);return r[t]=z(a[t]),r},{}),o={pager:{offset:e.current-1,limit:e.pageSize,param:E()({},l,c)}};if(r.field){var m={};m[r.field]=r.order,o.pager.sorter=[m]}n({type:"_chatGroup/fetch",payload:o})},t.previewItem=function(e){j["a"].push("/chatGroup/chatGroupForm/".concat(e))},t.newItem=function(){j["a"].push("/chatGroup/chatGroupForm")},t.handleFormReset=function(){var e=t.props,a=e.form,r=e.dispatch;a.resetFields(),t.setState({formValues:{}}),r({type:"_chatGroup/fetch",payload:{}})},t.toggleForm=function(){var e=t.state.expandForm;t.setState({expandForm:!e})},t.handleMenuClick=function(e){var a=t.props.dispatch,r=t.state.selectedRows;if(0!==r.length)switch(e.key){case"remove":a({type:"_chatGroup/remove",payload:{groupIds:r.map(function(e){return e.groupId}).join(",")},callback:function(){a({type:"_chatGroup/fetch",payload:{}}),t.setState({selectedRows:[]})}});break;default:break}},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props,r=a.dispatch,n=a.form;n.validateFields(function(e,a){if(!e){var n=E()({},a,{updatedAt:a.updatedAt&&a.updatedAt.valueOf()});t.setState({formValues:n}),console.log(n),r({type:"_chatGroup/fetch",payload:{pager:{param:n}}})}})},t}return G()(a,e),k()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"_chatGroup/fetch"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return L.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},L.a.createElement(i["a"],{gutter:{md:8,lg:24,xl:48}},L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u521b\u5efa\u7ec4\u7ec7ID"},e("orgId")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u521b\u5efaID"},e("userId")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement("span",{className:N.a.submitButtons},L.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),L.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),L.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",L.a.createElement(d["a"],{type:"down"}))))))}},{key:"renderAdvancedForm",value:function(){var e=this.props.form.getFieldDecorator;return L.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},L.a.createElement(i["a"],{gutter:{md:8,lg:24,xl:48}},L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u521b\u5efa\u7ec4\u7ec7ID"},e("orgId")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u521b\u5efaID"},e("userId")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u7fa4\u7ec4\u540d\u79f0"},e("name")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),L.a.createElement(i["a"],{gutter:{md:8,lg:24,xl:48}},L.a.createElement(u["a"],{md:8,sm:24},L.a.createElement(O,{label:"\u7fa4\u5934\u50cf"},e("avatar")(L.a.createElement(h["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),L.a.createElement("div",{style:{overflow:"hidden"}},L.a.createElement("div",{style:{marginBottom:24}},L.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),L.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),L.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",L.a.createElement(d["a"],{type:"up"})))))}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}},{key:"render",value:function(){var e=this,a=this.props,t=a._chatGroup.data,r=void 0===t?{}:t,n=a.loading,l=this.state,c=l.selectedRows,i=l.columns,u=L.a.createElement(s["a"],{onClick:this.handleMenuClick,selectedKeys:[]},L.a.createElement(s["a"].Item,{key:"remove"},"\u5220\u9664"));return L.a.createElement(A["a"],{title:"\u67e5\u8be2\u8868\u683c"},L.a.createElement(o["a"],{bordered:!1},L.a.createElement("div",{className:N.a.tableList},L.a.createElement("div",{className:N.a.tableListForm},this.renderForm()),L.a.createElement("div",{className:N.a.tableListOperator},L.a.createElement(p["a"],{icon:"plus",type:"primary",onClick:function(){return e.newItem()}},"\u65b0\u5efa"),c.length>0&&L.a.createElement("span",null,L.a.createElement(p["a"],null,"\u6279\u91cf\u64cd\u4f5c"),L.a.createElement(m["a"],{overlay:u},L.a.createElement(p["a"],null,"\u66f4\u591a\u64cd\u4f5c ",L.a.createElement(d["a"],{type:"down"}))))),L.a.createElement(V["a"],{selectedRows:c,loading:n,data:r,columns:i,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),a}(D["PureComponent"]),l=c))||l)||l);a["default"]=P}}]);