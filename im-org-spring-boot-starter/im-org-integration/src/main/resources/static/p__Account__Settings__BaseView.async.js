(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{VGLV:function(e,a,t){e.exports={row:"antd-pro-pages-account-settings-geographic-view-row",item:"antd-pro-pages-account-settings-geographic-view-item"}},dzOB:function(e,a,t){"use strict";t.r(a);t("y5MA");var n,r,s,i,c,o,l,p=t("Gywv"),u=t("Pjwa"),g=t.n(u),m=t("2cji"),v=t.n(m),d=t("sp3j"),f=t.n(d),h=t("vZkh"),b=t.n(h),y=t("+KCP"),E=t.n(y),w=(t("uqqF"),t("4wvp")),O=(t("dZVJ"),t("Nf2q")),M=(t("5L90"),t("aCNS")),j=(t("CyPW"),t("q5eX")),k=t("/0b7"),C=t.n(k),V=t("Kf7D"),N=t("LneV"),P=t("gJV7"),q=t.n(P),_=(t("/iQ2"),t("gbEB")),F=t("VGLV"),I=t.n(F),L=M["a"].Option,x={label:"",key:""},A=(n=Object(N["connect"])(function(e){var a=e.geographic,t=a.province,n=a.isLoading,r=a.city;return{province:t,city:r,isLoading:n}}),n((s=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=f()(this,(e=b()(a)).call.apply(e,[this].concat(r))),t.componentDidMount=function(){var e=t.props.dispatch;e({type:"geographic/fetchProvince"})},t.getCityOption=function(){var e=t.props.city;return t.getOption(e)},t.getOption=function(e){return!e||e.length<1?C.a.createElement(L,{key:0,value:0},"\u6ca1\u6709\u627e\u5230\u9009\u9879"):e.map(function(e){return C.a.createElement(L,{key:e.id,value:e.id},e.name)})},t.selectProvinceItem=function(e){var a=t.props,n=a.dispatch,r=a.onChange;n({type:"geographic/fetchCity",payload:e.key}),r({province:e,city:x})},t.selectCityItem=function(e){var a=t.props,n=a.value,r=a.onChange;r({province:n.province,city:e})},t}return E()(a,e),v()(a,[{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.dispatch,n=a.value;!e.value&&n&&n.province&&t({type:"geographic/fetchCity",payload:n.province.key})}},{key:"getProvinceOption",value:function(){var e=this.props.province;return this.getOption(e)}},{key:"conversionObject",value:function(){var e=this.props.value;if(!e)return{province:x,city:x};var a=e.province,t=e.city;return{province:a||x,city:t||x}}},{key:"render",value:function(){var e=this.conversionObject(),a=e.province,t=e.city,n=this.props.isLoading;return C.a.createElement(_["a"],{spinning:n,wrapperClassName:I.a.row},C.a.createElement(M["a"],{className:I.a.item,value:a,labelInValue:!0,showSearch:!0,onSelect:this.selectProvinceItem},this.getProvinceOption()),C.a.createElement(M["a"],{className:I.a.item,value:t,labelInValue:!0,showSearch:!0,onSelect:this.selectCityItem},this.getCityOption()))}}]),a}(k["PureComponent"]),r=s))||r),U=A,D=t("uy6Z"),S=t.n(D),B=function(e){function a(){return g()(this,a),f()(this,b()(a).apply(this,arguments))}return E()(a,e),v()(a,[{key:"render",value:function(){var e=this.props,a=e.value,t=e.onChange,n=["",""];return a&&(n=a.split("-")),C.a.createElement(k["Fragment"],null,C.a.createElement(p["a"],{className:S.a.area_code,value:n[0],onChange:function(e){t("".concat(e.target.value,"-").concat(n[1]))}}),C.a.createElement(p["a"],{className:S.a.phone_number,onChange:function(e){t("".concat(n[0],"-").concat(e.target.value))},value:n[1]}))}}]),a}(k["PureComponent"]),J=B,Z=j["a"].Item,R=M["a"].Option,z=function(e){var a=e.avatar;return C.a.createElement(k["Fragment"],null,C.a.createElement("div",{className:q.a.avatar_title},C.a.createElement(V["FormattedMessage"],{id:"app.settings.basic.avatar",defaultMessage:"Avatar"})),C.a.createElement("div",{className:q.a.avatar},C.a.createElement("img",{src:a,alt:"avatar"})),C.a.createElement(w["a"],{fileList:[]},C.a.createElement("div",{className:q.a.button_view},C.a.createElement(O["a"],{icon:"upload"},C.a.createElement(V["FormattedMessage"],{id:"app.settings.basic.change-avatar",defaultMessage:"Change avatar"})))))},G=function(e,a,t){var n=a.province,r=a.city;n.key||t("Please input your province!"),r.key||t("Please input your city!"),t()},X=function(e,a,t){var n=a.split("-");n[0]||t("Please input your area code!"),n[1]||t("Please input your phone number!"),t()},K=(i=Object(N["connect"])(function(e){var a=e.user;return{currentUser:a.currentUser}}),c=j["a"].create(),i(o=c((l=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=f()(this,(e=b()(a)).call.apply(e,[this].concat(r))),t.setBaseInfo=function(){var e=t.props,a=e.currentUser,n=e.form;Object.keys(n.getFieldsValue()).forEach(function(e){var t={};t[e]=a[e]||null,n.setFieldsValue(t)})},t.getViewDom=function(e){t.view=e},t}return E()(a,e),v()(a,[{key:"componentDidMount",value:function(){this.setBaseInfo()}},{key:"getAvatarURL",value:function(){var e=this.props.currentUser;if(e.avatar)return e.avatar;var a="https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png";return a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return C.a.createElement("div",{className:q.a.baseView,ref:this.getViewDom},C.a.createElement("div",{className:q.a.left},C.a.createElement(j["a"],{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0},C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.email"})},e("email",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.email-message"},{})}]})(C.a.createElement(p["a"],null))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.nickname"})},e("name",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.nickname-message"},{})}]})(C.a.createElement(p["a"],null))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.profile"})},e("profile",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.profile-message"},{})}]})(C.a.createElement(p["a"].TextArea,{placeholder:Object(V["formatMessage"])({id:"app.settings.basic.profile-placeholder"}),rows:4}))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.country"})},e("country",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.country-message"},{})}]})(C.a.createElement(M["a"],{style:{maxWidth:220}},C.a.createElement(R,{value:"China"},"\u4e2d\u56fd")))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.geographic"})},e("geographic",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.geographic-message"},{})},{validator:G}]})(C.a.createElement(U,null))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.address"})},e("address",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.address-message"},{})}]})(C.a.createElement(p["a"],null))),C.a.createElement(Z,{label:Object(V["formatMessage"])({id:"app.settings.basic.phone"})},e("phone",{rules:[{required:!0,message:Object(V["formatMessage"])({id:"app.settings.basic.phone-message"},{})},{validator:X}]})(C.a.createElement(J,null))),C.a.createElement(O["a"],{type:"primary"},C.a.createElement(V["FormattedMessage"],{id:"app.settings.basic.update",defaultMessage:"Update Information"})))),C.a.createElement("div",{className:q.a.right},C.a.createElement(z,{avatar:this.getAvatarURL()})))}}]),a}(k["Component"]),o=l))||o)||o);a["default"]=K},gJV7:function(e,a,t){e.exports={baseView:"antd-pro-pages-account-settings-base-view-baseView",left:"antd-pro-pages-account-settings-base-view-left",right:"antd-pro-pages-account-settings-base-view-right",avatar_title:"antd-pro-pages-account-settings-base-view-avatar_title",avatar:"antd-pro-pages-account-settings-base-view-avatar",button_view:"antd-pro-pages-account-settings-base-view-button_view"}},uy6Z:function(e,a,t){e.exports={area_code:"antd-pro-pages-account-settings-phone-view-area_code",phone_number:"antd-pro-pages-account-settings-phone-view-phone_number"}}}]);