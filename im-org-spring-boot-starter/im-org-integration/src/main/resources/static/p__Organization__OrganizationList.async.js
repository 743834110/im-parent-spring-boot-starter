(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{hdbf:function(e,a,t){"use strict";t.r(a);t("RP/e");var n,r,l,o,m=t("izPl"),c=(t("7D5O"),t("VVh6")),i=(t("oH73"),t("5n/v")),d=(t("pko2"),t("yz32")),s=(t("/J8Y"),t("zfnJ")),p=(t("dZVJ"),t("Nf2q")),u=(t("JXWm"),t("cpGE")),E=(t("y5MA"),t("Gywv")),h=t("smUt"),g=t.n(h),f=t("Pjwa"),y=t.n(f),v=t("2cji"),b=t.n(v),k=t("sp3j"),w=t.n(k),F=t("vZkh"),z=t.n(F),I=t("+KCP"),S=t.n(I),C=(t("5L90"),t("aCNS")),x=(t("CyPW"),t("q5eX")),R=t("/0b7"),N=t.n(R),D=t("LneV"),L=(t("a/LZ"),t("G7KD")),T=t("CkN6"),_=t("zHco"),j=t("8Ehr"),A=t.n(j),V=x["a"].Item,O=(C["a"].Option,function(e){return Object.keys(e).map(function(a){return e[a]}).join(",")}),J=(n=Object(D["connect"])(function(e){var a=e._organization,t=e.loading;return{_organization:a,loading:t.models._organization}}),r=x["a"].create(),n(l=r((o=function(e){function a(){var e,t;y()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=w()(this,(e=z()(a)).call.apply(e,[this].concat(r))),t.state={expandForm:!1,selectedRows:[],formValues:{},columns:[{title:"\u7ec4\u7ec7\u7c7b\u578b",dataIndex:"orgType"},{title:"\u7ec4\u7ec7\u540d\u79f0",dataIndex:"orgName"},{title:"\u7ec4\u7ec7\u7b80\u79f0",dataIndex:"shortName"},{title:"\u64cd\u4f5c",render:function(e){return N.a.createElement(R["Fragment"],null,N.a.createElement("a",{onClick:function(){return t.previewItem(e.orgId)}},"\u914d\u7f6e"))}}]},t.handleStandardTableChange=function(e,a,n){var r=t.props.dispatch,l=t.state.formValues,o=Object.keys(a).reduce(function(e,t){var n=g()({},e);return n[t]=O(a[t]),n},{}),m={pager:{offset:e.current-1,limit:e.pageSize,param:g()({},l,o)}};if(n.field){var c={};c[n.field]=n.order,m.pager.sorter=[c]}r({type:"_organization/fetch",payload:m})},t.previewItem=function(e){L["a"].push("/organization/organizationForm/".concat(e))},t.newItem=function(){L["a"].push("/organization/organizationForm")},t.handleFormReset=function(){var e=t.props,a=e.form,n=e.dispatch;a.resetFields(),t.setState({formValues:{}}),n({type:"_organization/fetch",payload:{}})},t.toggleForm=function(){var e=t.state.expandForm;t.setState({expandForm:!e})},t.handleMenuClick=function(e){var a=t.props.dispatch,n=t.state.selectedRows;if(0!==n.length)switch(e.key){case"remove":a({type:"_organization/remove",payload:{orgIds:n.map(function(e){return e.orgId}).join(",")},callback:function(){a({type:"_organization/fetch",payload:{}}),t.setState({selectedRows:[]})}});break;default:break}},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,r=a.form;r.validateFields(function(e,a){if(!e){var r=g()({},a,{updatedAt:a.updatedAt&&a.updatedAt.valueOf()});t.setState({formValues:r}),console.log(r),n({type:"_organization/fetch",payload:{pager:{param:r}}})}})},t}return S()(a,e),b()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"_organization/fetch"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return N.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7236\u7ea7\u8282\u70b9ID"},e("parentId")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u7c7b\u578b"},e("orgType")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement("span",{className:A.a.submitButtons},N.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),N.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),N.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",N.a.createElement(s["a"],{type:"down"}))))))}},{key:"renderAdvancedForm",value:function(){var e=this.props.form.getFieldDecorator;return N.a.createElement(x["a"],{onSubmit:this.handleSearch,layout:"inline"},N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7236\u7ea7\u8282\u70b9ID"},e("parentId")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u7c7b\u578b"},e("orgType")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u4e13\u4e1a\u7c7b\u578b"},e("proType")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u63cf\u8ff0"},e("orgDescription")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u540d\u79f0"},e("orgName")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u5934\u50cf\u5730\u5740"},e("orgImageUrl")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u516c\u544a"},e("orgAnnounce")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u662f\u5426\u6709\u6548"},e("valid")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7528\u6237ID"},e("userId")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u521b\u5efa\u65f6\u95f4"},e("createTime")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u5e74\u7ea7"},e("grade")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u7ec4\u7ec7\u7b80\u79f0"},e("shortName")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),N.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},N.a.createElement(u["a"],{md:8,sm:24},N.a.createElement(V,{label:"\u4e13\u4e1a\u7c7b\u578b"},e("associateType")(N.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"}))))),N.a.createElement("div",{style:{overflow:"hidden"}},N.a.createElement("div",{style:{marginBottom:24}},N.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),N.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),N.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",N.a.createElement(s["a"],{type:"up"})))))}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}},{key:"render",value:function(){var e=this,a=this.props,t=a._organization.data,n=void 0===t?{}:t,r=a.loading,l=this.state,o=l.selectedRows,d=l.columns,u=N.a.createElement(i["a"],{onClick:this.handleMenuClick,selectedKeys:[]},N.a.createElement(i["a"].Item,{key:"remove"},"\u5220\u9664"));return N.a.createElement(_["a"],{title:"\u67e5\u8be2\u8868\u683c"},N.a.createElement(m["a"],{bordered:!1},N.a.createElement("div",{className:A.a.tableList},N.a.createElement("div",{className:A.a.tableListForm},this.renderForm()),N.a.createElement("div",{className:A.a.tableListOperator},N.a.createElement(p["a"],{icon:"plus",type:"primary",onClick:function(){return e.newItem()}},"\u65b0\u5efa"),o.length>0&&N.a.createElement("span",null,N.a.createElement(p["a"],null,"\u6279\u91cf\u64cd\u4f5c"),N.a.createElement(c["a"],{overlay:u},N.a.createElement(p["a"],null,"\u66f4\u591a\u64cd\u4f5c ",N.a.createElement(s["a"],{type:"down"}))))),N.a.createElement(T["a"],{selectedRows:o,loading:r,data:n,columns:d,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),a}(R["PureComponent"]),l=o))||l)||l);a["default"]=J}}]);